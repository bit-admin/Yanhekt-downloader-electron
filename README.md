# Yanhekt Downloader

Yanhekt Downloader 是一个基于 Electron 开发的桌面应用程序，专为北京理工大学延河课堂（yanhekt.cn）视频下载而设计。

延河课堂是北京理工大学的在线教学平台，提供了大量的课程视频资源，但官方平台不支持视频下载功能。本工具可以帮助学生下载课程视频，方便离线学习和复习。

## 项目信息

本项目参考了 [AuYang261/BIT_yanhe_download](https://github.com/AuYang261/BIT_yanhe_download) 的 Python 代码，并使用 JavaScript 重写，提供了更加友好的图形用户界面和更便捷的操作体验。

本项目还是 [AutoSlides](https://github.com/bit-admin/Yanhekt-AutoSlides) 项目的一部分，AutoSlides 是一个自动从直播或录播课堂中捕获幻灯片的工具，支持监控内容变化并保存新幻灯片的截图。

在下载完视频后，您还可以使用 [AutoSlides Extractor](https://github.com/bit-admin/AutoSlides-extractor) 工具自动从视频中提取幻灯片，并将其保存为图片。

## 功能特点

- **图形化界面**：基于 Electron 开发，提供直观的用户界面
- **多信号源下载**：支持下载摄像头视频和屏幕录制视频
- **音频下载**：支持单独下载课程音频
- **批量下载**：支持选择多个视频批量下载
- **下载管理**：实时显示下载进度和状态
- **自定义保存路径**：可自由设置视频保存位置
- **跨平台支持**：支持 Windows 和 macOS 系统

## 安装说明

### macOS

1. 前往 [Releases 页面](https://github.com/bit-admin/Yanhekt-downloader-electron/releases) 下载最新版本
2. 下载适用于您架构（Intel `x64` 或 Apple Silicon `arm64`）的最新 `.dmg` 文件（如：`Yanhekt Downloader-1.0.0-macOS-arm64.dmg`）
3. 打开 `.dmg` 文件，将应用拖入 `Applications` 文件夹
4. 首次运行应用程序时，您可能会收到安全警告。要绕过此警告，请执行以下命令：
   ```bash
   sudo xattr -d com.apple.quarantine /Applications/Yanhekt\ Downloader.app
   ```
5. 现在您可以从 `Applications` 启动应用

### Windows

1. 前往项目的 [Releases 页面](https://github.com/bit-admin/Yanhekt-downloader-electron/releases)
2. 下载适用于您架构（通常为 `x64`）的最新 `.exe` 安装包（如：`Yanhekt Downloader-Setup-1.0.0-Windows-x64.exe`）。
3. 运行安装包，按向导完成安装
4. 可选择安装路径、是否创建桌面快捷方式等
5. 安装完成后，从开始菜单或桌面快捷方式启动应用

## 使用方法

### 1. 获取认证信息

首次使用需要先登录延河课堂，然后获取延河课堂的认证信息：

1. 在网站中登录您的账号
2. 在应用中点击「自动获取」按钮

或者手动获取认证信息：

1. 登录延河课堂网站
2. 在浏览器地址栏输入以下代码：
```javascript
javascript:alert(JSON.parse(localStorage.auth).token)
```
3. 复制弹出的认证码，粘贴到应用的认证信息输入框中
4. 点击「保存」按钮

### 2. 下载课程视频

1. 在延河课堂网站中进入想要下载的课程的信息页
2. 在应用中点击「网页提取」按钮
3. 选择要下载的视频（可多选）
4. 选择下载类型（摄像头或屏幕录制）
5. 勾选是否需要单独下载音频
6. 点击「下载选中」按钮开始下载

或者手动搜索课程视频：

1. 在延河课堂网站找到想要下载的课程，复制课程 ID（形如 https://www.yanhekt.cn/course/40524 中的 40524）
2. 在应用中输入课程 ID，点击「搜索」按钮
3. 选择要下载的视频（可多选）
4. 选择下载类型（摄像头或屏幕录制）
5. 勾选是否需要单独下载音频
6. 点击「下载选中」按钮开始下载

### 3. 管理下载

- 在下载列表中可以查看当前下载的进度和状态
- 可以取消正在进行的下载
- 下载完成后，可以通过「打开文件夹」按钮查看下载的视频文件

## 技术实现

- **前端**：HTML, CSS, JavaScript
- **框架**：Electron
- **视频处理**：FFmpeg
- **网络请求**：Axios

## 法律信息

1. 软件用途

本软件仅为用户提供便捷的课程资源下载功能，旨在协助北京理工大学“延河课堂”平台的用户在合法授权范围内管理和使用学习资源。本软件不存储、修改或分发任何课程内容，所有下载内容均来源于“延河课堂”平台。

2. 知识产权声明

“延河课堂”平台上的所有课程资源（包括但不限于视频、文档、图片、音频等）的知识产权归原作者、北京理工大学或相关权利人所有。本软件仅作为技术工具，不对平台内容的知识产权归属承担任何责任。用户在使用本软件下载或使用课程资源时，必须严格遵守《中华人民共和国著作权法》及其他相关法律法规，以及“延河课堂”平台的用户协议和知识产权政策。

3. 用户责任

用户应确保其使用本软件的行为符合法律法规及“延河课堂”平台的使用条款。用户不得利用本软件从事以下行为：

- 未经授权复制、分发、修改或传播课程资源；
- 将下载的课程资源用于商业用途或任何非法目的；
- 侵犯任何第三方（包括但不限于北京理工大学、课程作者或其他权利人）的知识产权或其他合法权益。
- 如因用户不当使用本软件导致的任何法律纠纷或知识产权侵权，均由用户自行承担全部责任，软件开发者不对因此产生的任何后果承担责任。

4. 免责条款

- 本软件开发者不对“延河课堂”平台内容的合法性、完整性或准确性作出任何保证。
- 本软件开发者不对因用户使用本软件而导致的任何直接或间接损失（包括但不限于数据丢失、知识产权纠纷等）承担责任。

## 许可证

本项目采用 MIT 许可证，详情请参阅 [LICENSE](LICENSE) 文件。

## 致谢

特别感谢 [AuYang261/BIT_yanhe_download](https://github.com/AuYang261/BIT_yanhe_download) 项目提供的思路和参考。